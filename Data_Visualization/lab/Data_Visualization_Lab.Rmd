---
title: "Data Visualization Lab Key"
output: html_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```



# Part 1

0. Load the libraries

```{r, message=FALSE}
library(readr)
library(ggplot2)
library(dplyr)
library(jhur)
```

1. Read Bike Lanes Dataset using `read_bike()` function from `jhur` package. Assign it to `bike` variable. Use `str()` function to take a look at the data and learn column types. 

```{r}
bike = read_bike()
str(bike)
```

2. Create a summary data frame (`bike_agg`) where for each year (`dateInstalled`) we have information about: 

- number of lanes (`lane_count`),
- average length of lanes (`lane_avg_length`)

Before the summarization step, filter data to keep only these observations for which year (`dateInstalled`) is non-0. 

```{r}
# bike_agg <- 
#   bike %>%
#   filter(???) %>%
#   group_by(???) %>%
#   summarise(
#     lane_count = ???,
#     lane_avg_length = ???
#   )
```

3. Use base R graphic to make two plots: 

- number of lanes (`lane_count`; y-axis) ~ year (`dateInstalled`; x-axis) 
- average length of lanes (`lane_avg_length`; y-axis) ~ year (`dateInstalled`; x-axis) 

You can use point type (default) or line type  (option `type = "l`). 

```{r}
# plot(x = ???, y = ???)
# plot(x = ???, y = ???, type = "l")
```

4. Use `ggplot2` package to make two different plots: 

- number of lanes (`lane_count`; y-axis) ~ year (`dateInstalled`; x-axis) 
- average length of lanes (`lane_avg_length`; y-axis) ~ year (`dateInstalled`; x-axis) 

You can use lines layer (`+ geom_line()`) or points layer (`+ geom_point()`), or both! 

```{r}
# ggplot(???, aes(x = ???, y = ???)) + 
#   ??? + 
#   ???
```

5. Redo one of the ggplot2 and assign it to a variable `my_plot`. Generate a few different versions of this plot using different themes. 

- `my_plot + theme_bw()`
- `my_plot + theme_classic()`
- `my_plot + theme_dark()`
- `my_plot + theme_gray()`
- `my_plot + theme_void()`

```{r}
# my_plot <- 
#   ???

# my_plot + theme_bw()
# my_plot + theme_classic()
# my_plot + theme_dark()
# my_plot + theme_gray()
# my_plot + theme_void()
```


# Part 2

1. Create a summary data frame (`bike_agg_2`) where for 

- each year (`dateInstalled`),
- each bike lane type (`type`) 

we have information about: 

- number of lanes (`lane_count`),
- average length of lanes (`lane_avg_length`)

Before the summarization step, filter data to keep only these observations for which year (`dateInstalled`) is non-0. 

```{r}
# bike_agg_2 <- 
#   bike %>%
#   filter(???) %>%
#   group_by(???, ???) %>%
#   summarise(
#     lane_count = ???,
#     lane_avg_length = ???
#   )
```

2.  Use `ggplot2` package to make a plot showing trajectories of number of lanes (`lane_count`; y-axis) over year (`dateInstalled`; x-axis), where each bike line type has a different line (hint: use `group = type` in mapping) and a different color (hint: use `color = type` in mapping). 

```{r}
# ggplot(???, aes(x = ???, y = ???, group = ???, color = ???)) + 
#   geom_line() + 
#   geom_point()
```

3. Redo the above plot by adding a faceting  (`+ facet_wrap(~ type, ncol = 3)`) to have data for each bike line type in a separate plot panel. 

(You may see `geom_path: Each group consists of only one observation. Do you need to adjust the group aesthetic?` warning as some bike lane types will have only 1 point plotted while trying to plot a line).

```{r}
# ggplot(???, aes(x = ???, y = ???, group = ???, color = ???)) + 
#   geom_line() +
#   geom_point() +
#   facet_wrap(~ type, ncol = 3)
```
